{"version":3,"file":"static/chunks/pages/_sites/[subdomain]/sitemap.xml-8296894e4ab6e446.js","mappings":"saACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,kCACA,WACA,OAAeC,EAAQ,MACvB,EACA,2FC8CAC,CAAAA,EAAA,QAlCA,WAAoB","sources":["webpack://_N_E/?3777","webpack://_N_E/./src/pages/_sites/[subdomain]/sitemap.xml.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_sites/[subdomain]/sitemap.xml\",\n      function () {\n        return require(\"private-next-pages/_sites/[subdomain]/sitemap.xml.ts\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_sites/[subdomain]/sitemap.xml\"])\n      });\n    }\n  ","import { getLeavesClient } from '@mintlify/http-client';\nimport type { ServerResponse } from 'http';\n\nimport { IS_MULTI_TENANT } from '@/env';\n\nfunction generateSiteMap(pages: string[]) {\n  return `<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\">\n    ${pages\n      .map(\n        (pagePath) => `\n  <url>\n    <loc>${pagePath}</loc>\n  </url>`\n      )\n      .join('\\n')}\n</urlset>`;\n}\n\nfunction SiteMap() {}\n\nexport async function getServerSideProps({\n  params: { subdomain },\n  res,\n}: {\n  params: { subdomain: string };\n  res: ServerResponse;\n}) {\n  if (!IS_MULTI_TENANT) {\n    return {\n      notFound: true,\n    };\n  }\n  try {\n    const client = getLeavesClient(subdomain);\n    const paths = await client.getSitemapPaths();\n\n    const sitemap = generateSiteMap(paths);\n\n    res.setHeader('Content-Type', 'text/xml');\n    res.write(sitemap);\n    res.end();\n\n    return {\n      props: {},\n    };\n  } catch {\n    return {\n      notFound: true,\n    };\n  }\n}\n\nexport default SiteMap;\n"],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__"],"sourceRoot":""}