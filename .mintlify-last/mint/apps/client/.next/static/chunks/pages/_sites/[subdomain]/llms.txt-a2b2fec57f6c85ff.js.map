{"version":3,"file":"static/chunks/pages/_sites/[subdomain]/llms.txt-a2b2fec57f6c85ff.js","mappings":"saACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,+BACA,WACA,OAAeC,EAAQ,MACvB,EACA,2FC4CAC,CAAAA,EAAA,QA9CA,WAAoB","sources":["webpack://_N_E/?d98c","webpack://_N_E/./src/pages/_sites/[subdomain]/llms.txt.ts"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_sites/[subdomain]/llms.txt\",\n      function () {\n        return require(\"private-next-pages/_sites/[subdomain]/llms.txt.ts\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_sites/[subdomain]/llms.txt\"])\n      });\n    }\n  ","import { getLeavesClient } from '@mintlify/http-client';\nimport { LlmsTxtResponseType } from '@mintlify/http-client/dist/leaves-client/types';\nimport type { ServerResponse } from 'http';\n\nfunction LlmsTxt() {}\n\nfunction generateLlmsTxt(response: LlmsTxtResponseType): string {\n  let llmsTxt = `# ${response.name}\n\n## Docs\n\n${response.pages.reduce((acc, page) => `${acc}- [${page.title}](${response.domain}/${page.path}.md)${page.description ? `: ${page.description}` : ''}\\n`, '')}`;\n\n  if (response.links.length > 0) {\n    llmsTxt += `\\n\\n## Optional\n\n${response.links.reduce((acc, link) => `${acc}- [${link.name}](${link.url})\\n`, '')}`;\n  }\n\n  return llmsTxt;\n}\n\nexport async function getServerSideProps({\n  params: { subdomain },\n  res,\n}: {\n  params: { subdomain: string };\n  res: ServerResponse;\n}) {\n  try {\n    const client = getLeavesClient(subdomain);\n    const response = await client.getLlmsTxt();\n\n    const llmsTxt = generateLlmsTxt(response);\n\n    res.setHeader('Content-Type', 'text/plain; charset=utf-8');\n    res.write(llmsTxt);\n    res.end();\n\n    return {\n      props: {},\n    };\n  } catch (error) {\n    console.error('Error fetching llms.txt:', error);\n    return {\n      notFound: true,\n    };\n  }\n}\n\nexport default LlmsTxt;\n"],"names":["window","__NEXT_P","push","__webpack_require__","__webpack_exports__"],"sourceRoot":""}